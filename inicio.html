<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Projeto Capta Erros</title>
    <link rel="stylesheet" href="estilizacao.css" />
  </head>
  <body>
    <section>
      <h1>Projeto Capta Erros.</h1>

      <div id="upload-area">
        <label for="fileInput" class="custom-file-upload">Escolher Imagem</label>
        <input type="file" id="fileInput" accept="image/*" />
      </div>

      <div id="preview">Nenhuma imagem selecionada.</div>

      <button id="analyze">Detectar Erros</button>
      <div id="result">Resultado</div>
      <button id="copiarEmail">Copiar texto do e-mail</button>


      <div id="Formato">
        <label for="formato1">
          Formato 1
          <input type="radio" name="formato" id="formato1" class="formatos" checked />
        </label>
        <label for="formato2">
          Formato 2
          <input type="radio" name="formato" id="formato2" class="formatos" />
        </label>
      </div>
    </section>

<script src="logicaDrag.js"></script>

<!-- Define o módulo ANTES do OpenCV -->
<script>
  Module = {
    onRuntimeInitialized() {
      console.log("✅ OpenCV carregado com sucesso!");
      // Só carrega o script principal depois que o OpenCV estiver pronto
      const script = document.createElement("script");
      script.src = "detectarErros.js";
      script.onload = () => {
        if (typeof prepararAnalise === "function") {
          prepararAnalise(); // Só chama se a função estiver realmente carregada
        } else {
          console.error("❌ prepararAnalise() não foi carregada.");
        }
      };
      document.body.appendChild(script);
    }
  };
</script>

<!-- Carrega o OpenCV por último -->
<script async src="https://docs.opencv.org/4.5.5/opencv.js"></script>

  </body>
</html>
